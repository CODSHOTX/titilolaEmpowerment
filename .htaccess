# Force HTTPS
RewriteEngine On
RewriteCond %{HTTP_HOST} taempowerment\.org [NC]
RewriteCond %{SERVER_PORT} 80
RewriteRule ^(.*)$ https://taempowerment.org/$1 [R,L]

# Deny access to .htaccess itself
<Files .htaccess>
  Order allow,deny
  Deny from all
</Files>

# Prevent directory listing
Options -Indexes

# Disable server signature (hide version info)
ServerSignature Off

# Prevent access to sensitive file types
<FilesMatch "\.(htaccess|htpasswd|ini|phps|fla|psd|log|sh)$">
  Order allow,deny
  Deny from all
</FilesMatch>

# Enable compression for faster load times
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/javascript application/json
</IfModule>

# Protect PHP files in upload folders (adjust path if needed)
<Directory "/public_html/uploads">
  <FilesMatch "\.php$">
    Order allow,deny
    Deny from all
  </FilesMatch>
</Directory>

# XSS and clickjacking protection
<IfModule mod_headers.c>
  Header always set X-Content-Type-Options "nosniff"
  Header always set X-Frame-Options "SAMEORIGIN"
  Header always set X-XSS-Protection "1; mode=block"
</IfModule>
